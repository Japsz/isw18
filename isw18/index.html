<!doctype html>
<!--[if lt IE 7 ]><html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]><html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]><html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]><html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en" class="no-js"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="author" content="">
  <meta name="keywords" content="">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Valorización de Opción</title>

  <!-- main JS libs -->
  <script src="/assets/js/libs/modernizr.min.js"></script>
  <script src="/assets/js/libs/jquery-1.10.0.js"></script>
  <script src="/assets/js/libs/jquery-ui.min.js"></script>
  <script src="/assets/js/libs/bootstrap.min.js"></script>
  <script src="/rutas/python_functs.js"></script>


  <!-- Google chart para graficos -->
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

  <!-- Style CSS -->
  <link href="/assets/css/bootstrap.css" media="screen" rel="stylesheet">
  <link href="/assets/style.css" media="screen" rel="stylesheet">

  <!-- scripts -->
  <script src="/assets/js/general.js"></script>

  <!-- Include all needed stylesheets and scripts here -->

  <!--[if lt IE 9]><script src="/assets/js/respond.min.js"></script><![endif]-->
  <!--[if gte IE 9]>
  <style type="text/css">
    .gradient {filter: none !important;}
  </style>
  <![endif]-->
  <style>
    .loader {
      border: 4px solid #D3D3D3;
      border-radius: 50%;
      border-top: 4px solid #3498db;
      width: 30px;
      height: 30px;
      -webkit-animation: spin 3s linear infinite; /* Safari */
      animation: spin 3s linear infinite;
    }

    /* Safari */
    @-webkit-keyframes spin {
      0% { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>

<body>
<div class="body_wrap">
  <!-- CONTAINER CARGAR ARCHIVO -->
  <div class="container">
    <div class="row">
      <!-- Columna para buscar archivos por yahoooooooooooooooooooo -->
      <div class="col-md-8">
        <h1 class="page-header" style="color:#FFFFFF">Buscar Acciones</h1>
        <div class="panel panel-primary">
          <div class="panel-heading">
            <!-- FORMULARIO PARA BUSCAR ACCIONES -->
            <form id="busq_stock">
              <div class="form-inline">
                <div class="form-group" style="width:25%">
                  <select name="symbol" class="form-control" id="symselect" required>
                    <option value="#" disabled>Buscar Símbolo</option>
                    <option value="AAPL" selected>AAPL</option>
                    <option value="ADRA">ADRA</option>
                    <option value="TWX">TWX</option>
                    <option value="GOOGL">GOOGL</option>
                    <option value="A">A	</option>
                    <option value="AA">AA	</option>
                    <option value="AA">AAC	</option>
                    <option value="AAN">AAN	</option>
                    <option value="AAP">AAP	</option>
                    <option value="AAT">AAT	</option>
                    <option value="AAV">AAV	</option>
                    <option value="AB">AB	</option>
                    <option value="ABB">ABB	</option>
                    <option value="ABBV">ABBV</option>
                    <option value="ABC">ABC	</option>
                    <option value="ABEV">ABEV</option>
                    <option value="ABG">ABG	</option>
                    <option value="ABM">ABM	</option>
                    <option value="ABR">ABR	</option>
                    <option value="ABT">ABT	</option>
                    <option value="AKO">AKO.</option>
                    <option value="AKP"> AKP</option>
                    <option value="AKR"> AKR</option>
                    <option value="AKS"> AKS</option>
                    <option value="AL"> AL</option>
                    <option value="ALB"> ALB</option>
                    <option value="ALE"> ALE</option>
                    <option value="ALEX">ALEX</option>
                    <option value="ALG"> ALG</option>
                    <option value="ALK"> ALK</option>
                    <option value="ALL"> ALL</option>
                    <option value="ALLE">ALLE</option>
                    <option value="ALLY">ALLY</option>
                    <option value="ALP-">ALP-</option>
                    <option value="ALSN">ALSN</option>
                    <option value="ALV"> ALV</option>
                    <option value="BABA">BABA</option>
                    <option value="BAC"> BAC</option>
                    <option value="BAF"> BAF</option>
                    <option value="BAH"> BAH</option>
                    <option value="BAK"> BAK</option>
                    <option value="BAM"> BAM</option>
                    <option value="BANC">BANC</option>
                    <option value="BAP"> BAP</option>
                    <option value="BAS"> BAS</option>
                    <option value="BAX"> BAX</option>
                    <option value="BBD"> BBD</option>
                    <option value="BBDC">BBDC</option>
                    <option value="BBDO">BBDO</option>
                    <option value="BBF"> BBF</option>
                    <option value="BBK"> BBK</option>
                    <option value="BBL"> BBL</option>
                    <option value="BBN"> BBN</option>
                    <option value="BBT"> BBT</option>
                    <option value="BORN">BORN</option>
                    <option value="BOX"> BOX</option>
                    <option value="BVN"> BVN</option>
                    <option value="BWA"> BWA</option>
                    <option value="BWG"> BWG</option>
                    <option value="BWXT">BWXT</option>
                    <option value="BXC"> BXC</option>
                    <option value="CEO"> CEO</option>
                    <option value="CEPU">CEPU</option>
                    <option value="CEQP">CEQP</option>
                    <option value="CFR"> CFR</option>
                    <option value="CTLT">CTLT</option>
                    <option value="CTR"> CTR</option>
                    <option value="CTS"> CTS</option>
                    <option value="CTT"> CTT</option>
                    <option value="CTU"> CTU</option>
                    <option value="CTV"> CTV</option>
                    <option value="CTW"> CTW</option>
                    <option value="CTX"> CTX</option>
                    <option value="CTY"> CTY</option>
                    <option value="CTZ"> CTZ</option>
                    <option value="EBS"> EBS</option>
                    <option value="ECA"> ECA</option>
                    <option value="ECC"> ECC</option>
                    <option value="ECCA">ECCA</option>
                    <option value="FBC"> FBC</option>
                    <option value="FBHS">FBHS</option>
                    <option value="FBK"> FBK</option>
                    <option value="FBP"> FBP</option>
                    <option value="FBR"> FBR</option>
                    <option value="GJT"> GJT</option>
                    <option value="GJV"> GJV</option>
                    <option value="GKOS">GKOS</option>
                    <option value="GLO-">GLO-</option>
                    <option value="GLOB">GLOB</option>
                    <option value="GSBD">GSBD</option>
                    <option value="GSH"> GSH</option>
                    <option value="GSL"> GSL</option>
                    <option value="GTES">GTES</option>
                    <option value="JBGS">JBGS</option>
                    <option value="JCP"> JCP</option>
                    <option value="JDD"> JDD</option>
                    <option value="KBH"> KBH</option>
                    <option value="KBR"> KBR</option>
                    <option value="KDMN">KDMN</option>
                    <option value="KDP"> KDP</option>
                    <option value="KED"> KED</option>
                    <option value="KEG"> KEG</option>
                    <option value="LAC"> LAC</option>
                    <option value="LAD"> LAD</option>
                    <option value="LADR">LADR</option>
                    <option value="LBRT">LBRT</option>
                    <option value="LC"> LCI</option>
                    <option value="MD"> MDP</option>
                    <option value="MD"> MDR</option>
                    <option value="MD"> MDT</option>
                    <option value="MD"> MDU</option>
                    <option value="MM"> MMU</option>
                    <option value="MT"> MTR</option>
                    <option value="PB"> PBT</option>
                    <option value="PB"> PBY</option>
                    <option value="PC"> PCG</option>
                    <option value="PC"> PCI</option>
                    <option value="PC"> PCK</option>
                    <option value="PE"> PEN</option>
                    <option value="PE"> PEO</option>
                    <option value="PE"> PER</option>
                    <option value="SMTA">SMTA</option>
                    <option value="SPN"> SPN</option>
                    <option value="SPOT">SPOT</option>
                    <option value="SPR"> SPR</option>
                    <option value="SPXC">SPXC</option>
                    <option value="SPXX">SPXX</option>
                    <option value="SQNS">SQNS</option>
                    <option value="VRTV">VRTV</option>
                    <option value="VSH"> VSH</option>
                    <option value="VSI"> VSI</option>
                    <option value="VSLR">VSLR</option>
                    <option value="VSM"> VSM</option>
                    <option value="VST"> VST</option>
                    <option value="VST">VST.</option>
                    <option value="WPC"> WPC</option>
                    <option value="WPG"> WPG</option>
                    <option value="WPM"> WPM</option>
                    <option value="WPP"> WPP</option>
                    <option value="WPX"> WPX</option>
                    <option value="WPZ"> WPZ</option>
                    <option value="WRB"> WRB</option>
                    <option value="WRD"> WRD</option>
                    <option value="XOXO">XOXO</option>
                    <option value="XPO"> XPO</option>
                    <option value="XRF"> XRF</option>
                    <option value="XRM"> XRM</option>
                    <option value="XRX"> XRX</option>
                    <option value="YELP">YELP</option>
                    <option value="YEXT">YEXT</option>
                    <option value="YPF"> YPF</option>
                    <option value="ZNH"> ZNH</option>
                    <option value="ZOES">ZOES</option>
                    <option value="ZTO"> ZTO</option>
                    <option value="ZTR"> ZTR</option>
                    <option value="ZTS"> ZTS</option>
                    <option value="ZUO"> ZUO</option>
                    <option value="ZYME">ZYME</option>
                  </select>
                </div>
                <div class="form-group" >
                  <label for="desde"><h5>Desde</h5></label>
                  <input type="date" class="form-control" name="desde" style="width:32%" required value="2018-03-25">
                  <label for="hasta"><h5>Hasta</h5></label>
                  <input type="date" class="form-control" name="hasta" style="width:32%"  required>
                  <button type="submit" class="btn btn-primary" style="margin-left:5px; background-color:#428bca" id="fsubmit"><span class="glyphicon glyphicon-search" style="margin: 0;padding: 5px;font-size:30px;text-shadow:2px 2px 4px #000000"></span></button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Columna para cargar archivo -->
      <div class="col-md-4">
        <h1 class="page-header" style="color:#FFFFFF">Cargar Acciones</h1>
        <div class="panel panel-primary">
          <div class="panel-heading">
            <!-- FORMULARIO CARGAR ARCHIVO -->
            <form id="upload-file">
              <div class="row">
                <div class="col-md-9" style="padding: 12px">
                  <input type="file" class="form-control" id="inpfile" accept=".csv">
                </div>
                <div class="col-md-1">
                  <i class="glyphicon glyphicon-upload" style="margin: 0;padding: 8px;font-size:30px;text-shadow:2px 2px 4px #000000"></i>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--/ container -->

  <!-- Vistas renderizadas -->
  <div class="container">
    <div class="col-md-12" style="background-color: white">      
      <div class="row">
        <div id="estado"></div>
        <div id="loader" class=""></div>
      </div>
      <div id="stock_rows"></div>
    </div>
  </div>
</div>
<script type="text/javascript">
  $("#csv").click(function (e){
     parse_csv("./R/GOOGL.csv")
  });

  function readURL(input) {
      if (input.files && input.files[0]) {
          parse_csv(input.files[0].path);
      }
  };

  $("#inpfile").change(function() {
      readURL(this);
  });
  
  $("#busq_stock").submit(function(e){
      e.preventDefault();
      var array = $(this).serializeArray();
      var data = {};
      for(var i = 0;i<array.length;i++){
          data[array[i]['name']] = array[i]['value'];
      }
      $("#estado").html('<br><div id="estado" class="col-md-1 col-md-offset-4"><h3>Cargando</h3></div>');
      $("#loader").removeClass("").addClass("loader col-md-offset-6");
      buscar(data.symbol,data.desde,data.hasta);
  });

</script>

</body>
</html>
